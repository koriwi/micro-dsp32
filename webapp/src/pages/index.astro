---
import XPass from "../components/XPass/index.astro";
import Layout from "../layouts/default.astro";
import Button from "../components/Button/index.astro";

const bgImage =
  "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMjQ3LjY1MDAxbW0iCiAgIGhlaWdodD0iMTY1LjM2NDYxbW0iCiAgIHZpZXdCb3g9IjAgMCAyNDcuNjUwMDEgMTY1LjM2NDYxIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcxIgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzCiAgICAgaWQ9ImRlZnMxIiAvPjxnCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi40NTgzMzMsMjYuNDU4MzM1KSI+PHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjAuMDM3Mjg1NCIKICAgICAgIGQ9Im0gMTMyLjI5MTY2LDExMi40MjUyMyBjIC0wLjM2MzgsLTAuMDYxNSAtMS41NTQ0MiwtMC4yMzc1NyAtMi42NDU4MywtMC4zOTEyMiAtMS4wOTE0MSwtMC4xNTM2NCAtMy4zODY3LC0wLjYzMjg1IC01LjEwMDY1LC0xLjA2NDkxIC0xLjcxMzk2LC0wLjQzMjA1IC00LjQ4NDkzLC0xLjMxNDUzIC02LjE1NzczLC0xLjk2MTA1IC0xLjY3Mjc5LC0wLjY0NjUyIC00LjM3ODEyLC0xLjg1Nzk1IC02LjAxMTg0LC0yLjY5MjA2IC0xLjYzMzcyLC0wLjgzNDEyIC00LjEwMTUsLTIuMjg2MzkgLTUuNDgzOTUsLTMuMjI3MjggLTEuMzgyNDQsLTAuOTQwODkgLTMuNDY4NywtMi41MDczOCAtNC42MzYxMiwtMy40ODEwOTIgLTEuMTY3NDIsLTAuOTczNzEgLTMuNDE0NDE5LC0zLjEyNjU1IC00Ljk5MzMzOSwtNC43ODQwOSAtMS41Nzg5MiwtMS42NTc1MyAtMy42NzA0OCwtNC4xNDQ3OSAtNC42NDc5MiwtNS41MjcyNCAtMC45Nzc0MywtMS4zODI0NSAtMi4zNzA0NiwtMy41MjU1NyAtMy4wOTU2MiwtNC43NjI1IC0wLjcyNTE2LC0xLjIzNjkzIC0xLjgwOTczLC0zLjMyMDUyIC0yLjQxMDE0LC00LjYzMDIxIC0wLjYwMDQyLC0xLjMwOTY5IC0xLjQ0NjQ5LC0zLjM5MzI4IC0xLjg4MDE1LC00LjYzMDIxIC0wLjQzMzY2LC0xLjIzNjkyIC0xLjA4OTM0MiwtMy40Mzg5MiAtMS40NTcwNzMsLTQuODkzMzIgLTAuMzY3NzMxLC0xLjQ1NDQxIC0wLjU4NDYsLTIuNzI0NzggLTAuNDgxOTMsLTIuODIzMDYgMC4xMDI2NywtMC4wOTgzIDAuNzEyODU0LC0wLjIxOCAxLjM1NTk2NCwtMC4yNjYwNSAxLjE2OTI4OSwtMC4wODc0IDEuMTY5Mjg5LC0wLjA4NzQgMS43NDg2NDksMi4xOTkxMSAwLjMxODY1LDEuMjU3NTUgMC45MTMyMiwzLjIyMjA4IDEuMzIxMjgsNC4zNjU2MiAwLjQwODA1LDEuMTQzNTQgMS4yNzMyOSwzLjI1NTU5IDEuOTIyNzUsNC42OTM0NSAwLjY0OTQ2LDEuNDM3ODYgMS43MTU4NCwzLjUyMTQ1IDIuMzY5NzQsNC42MzAyMSAwLjY1Mzg5LDEuMTA4NzUgMS44NDk3MywyLjk1NTczIDIuNjU3NDEsNC4xMDQzOCAwLjgwNzY4LDEuMTQ4NjYgMi4xMjI2MiwyLjg3NTA2IDIuOTIyMDksMy44MzY0NiAwLjc5OTQ3LDAuOTYxNCAxLjk0MDEsMi4yNjYzNSAyLjUzNDcyOSwyLjg5OTkgMC41OTQ2MywwLjYzMzU2IDIuMjMyNjgsMi4wOTAzNyAzLjY0MDEyLDMuMjM3MzggMS40MDc0MywxLjE0NyAzLjgzNTY0LDIuOTE2NTAyIDUuMzk2MDIsMy45MzIyMTIgMS41NjAzOCwxLjAxNTcxIDMuODA4MywyLjMyMTI2IDQuOTk1MzcsMi45MDEyIDEuMTg3MDgsMC41Nzk5NSAzLjA0NTEyLDEuNDA4NzggNC4xMjg5OCwxLjg0MTg0IDEuMDgzODYsMC40MzMwNiAzLjM2NDE2LDEuMjA5MDYgNS4wNjczNCwxLjcyNDQzIDEuNzAzMTcsMC41MTUzOCA0LjU2MDY3LDEuMTk3MTMgNi4zNSwxLjUxNTAxIDIuNTM4NDEsMC40NTA5NSA0LjM1Nzk5LDAuNTgyOSA4LjI4MDQsMC42MDA0NCAzLjU5MTE5LDAuMDE2MSA1Ljg5NjE3LC0wLjExMTUyIDguMDY5NzksLTAuNDQ2NjggMS42NzM0OSwtMC4yNTgwNCAzLjk5NTIxLC0wLjcwOTgyIDUuMTU5MzcsLTEuMDAzOTQgMS4xNjQxNywtMC4yOTQxMyAzLjE4ODIzLC0wLjg5MjI3IDQuNDk3OTIsLTEuMzI5MjEgMS4zMDk2OSwtMC40MzY5NSA0LjA0ODEyLC0xLjYxMDc4IDYuMDg1NDIsLTIuNjA4NTMgMi4wMzcyOSwtMC45OTc3NSA0Ljc3NTcyLC0yLjUyOTIxIDYuMDg1NDEsLTMuNDAzMjUgMS4zMDk2OSwtMC44NzQwNCAzLjM5MzI4LC0yLjQwMjAxMiA0LjYzMDIxLC0zLjM5NTQ5MiAxLjIzNjkzLC0wLjk5MzQ4IDMuMDY2NTYsLTIuNjM5ODkgNC4wNjU4NCwtMy42NTg2OSAwLjk5OTI5LC0xLjAxODgxIDIuNjczNDcsLTIuOTIzOTQgMy43MjA0LC00LjIzMzYzIDEuMDQ2OTMsLTEuMzA5NjggMi41MDM1MiwtMy4zMzM3NSAzLjIzNjg4LC00LjQ5NzkxIDAuNzMzMzUsLTEuMTY0MTcgMS44MTMxNCwtMy4wMDk2NCAyLjM5OTUzLC00LjEwMTA0IDAuNTg2NCwtMS4wOTE0MSAxLjQ4MzA4LC0yLjk5NjQxIDEuOTkyNjMsLTQuMjMzMzQgMC41MDk1NiwtMS4yMzY5MiAxLjI4NjUyLC0zLjM4MDA1IDEuNzI2NTksLTQuNzYyNSAwLjQ0MDA3LC0xLjM4MjQ1IDEuMDQ4NDEsLTMuNzYzNyAxLjM1MTg1LC01LjI5MTY2IDAuMzAzNDUsLTEuNTI3OTcgMC42NzE4MSwtNC4wMTExMyAwLjgxODU4LC01LjUxODE0IDAuMTQ2NzgsLTEuNTA3MDEgMC4yNjY4NywtMy43ODYzNSAwLjI2Njg3LC01LjA2NTIgMCwtMS4yNzg4NSAtMC4xMjAwOSwtMy41NTgxOCAtMC4yNjY4NywtNS4wNjUxOSAtMC4xNDY3NywtMS41MDcwMSAtMC41MTUxMywtMy45OTAxNyAtMC44MTg1OCwtNS41MTgxNCAtMC4zMDM0NCwtMS41Mjc5NyAtMC45MTE3OCwtMy45MDkyMiAtMS4zNTE4NSwtNS4yOTE2NyAtMC40NDAwNywtMS4zODI0NCAtMS4yMTcwMywtMy41MjU1NyAtMS43MjY1OSwtNC43NjI1IC0wLjUwOTU1LC0xLjIzNjkyIC0xLjQwNjIzLC0zLjE0MTkyIC0xLjk5MjYzLC00LjIzMzMzIC0wLjU4NjM5LC0xLjA5MTQxIC0xLjY2NjE4LC0yLjkzNjg3IC0yLjM5OTUzLC00LjEwMTA0IC0wLjczMzM2LC0xLjE2NDE3IC0yLjE4NjkzLC0zLjE4ODIzIC0zLjIzMDE1LC00LjQ5NzkyIC0xLjA0MzIzLC0xLjMwOTY4NiAtMi43MTc0MSwtMy4yMTU2MjYgLTMuNzIwNCwtNC4yMzU0MjYgLTEuMDAyOTksLTEuMDE5ODEgLTIuODM1NjQsLTIuNjY2MjIgLTQuMDcyNTcsLTMuNjU4NyAtMS4yMzY5MywtMC45OTI0OCAtMy4zMTUxMywtMi41MTE4NiAtNC42MTgyMywtMy4zNzY0MSAtMS4zMDMxLC0wLjg2NDU0IC0zLjY0NjkzLC0yLjIyNTQzMDMgLTUuMjA4NSwtMy4wMjQyMDAzIC0xLjU2MTU4LC0wLjc5ODc2IC0zLjg4ODY5LC0xLjg1MTg1IC01LjE3MTM1LC0yLjM0MDIgLTEuMjgyNjcsLTAuNDg4MzQgLTMuNDE5ODksLTEuMTk5OTYgLTQuNzQ5MzksLTEuNTgxMzcgLTEuMzI5NDksLTAuMzgxNDEgLTMuOTQ4ODYsLTAuOTU2MDggLTUuODIwODMsLTEuMjc3MDUgLTIuNzQ1LC0wLjQ3MDY3IC00LjQyNzQ4LC0wLjU4MjYzIC04LjY5NTI0LC0wLjU3ODYzIC00LjE3MjgyLDAuMDA0IC01Ljk5MDk1LDAuMTI0MjMgLTguNTk4OTYsMC41NjkwMyAtMS44MTkwMSwwLjMxMDI0IC00LjQ5NzkyLDAuOTE5MTUgLTUuOTUzMTIsMS4zNTMxNCAtMS40NTUyMSwwLjQzMzk4IC0zLjcxNzQsMS4yMjE3NSAtNS4wMjcwOSwxLjc1MDU4IC0xLjMwOTY4LDAuNTI4ODQgLTMuMzQ2MzIsMS40MzI3OCAtNC41MjU4NSwyLjAwODc2IC0xLjE3OTUzLDAuNTc1OTggLTMuNDIxMjcsMS44NzgyNzAzIC00Ljk4MTY1LDIuODkzOTgwMyAtMS41NjAzOCwxLjAxNTcyIC0zLjk4ODU5LDIuNzg1MjEgLTUuMzk2MDIsMy45MzIyMiAtMS40MDc0NCwxLjE0NyAtMy4wNDMwNSwyLjYwMzgyIC0zLjYzNDY5LDMuMjM3MzcgLTAuNTkxNjM5LDAuNjMzNTUgLTEuNjc0MjU5LDEuODY2MjkgLTIuNDA1ODE5LDIuNzM5NDEgLTAuNzMxNTYsMC44NzMxMjYgLTIuMDExNzEsMi41MTQ3NzYgLTIuODQ0NzgsMy42NDgxMTYgLTAuODMzMDYsMS4xMzMzNCAtMi4wODQ1NywzLjA0NzQ1IC0yLjc4MTEzLDQuMjUzNTYgLTAuNjk2NTUsMS4yMDYxMiAtMS44MDAxNywzLjM3NDQ3IC0yLjQ1MjQ4LDQuODE4NTUgLTAuNjUyMzIsMS40NDQwOCAtMS41MTk4OSwzLjU2MTIzIC0xLjkyNzk0LDQuNzA0NzcgLTAuNDA4MDYsMS4xNDM1MyAtMS4wMDA1NSwzLjEwODA2IC0xLjMxNjY0LDQuMzY1NjIgLTAuMzMwOTYsMS4zMTY2OCAtMC43MDc5MSwyLjI3NTI0IC0wLjg4ODc1LDIuMjYwMDEgLTAuMTcyNzIsLTAuMDE0NiAtMC42NDE0NiwtMC4wNDYxIC0xLjA0MTY0MywtMC4wNzAyIC0wLjQwMDE4MiwtMC4wMjQxIC0wLjg4MzYzNiwtMC4xNDI2OSAtMS4wNzQzNDIsLTAuMjYzNjMgLTAuMjgwNjMxLC0wLjE3Nzk4IC0wLjI0MDI4NywtMC42NDM4MSAwLjIxMTYwOCwtMi40NDMzNSAwLjMwNzA5LC0xLjIyMjkgMC45NzU3OTMsLTMuNDE0MDcgMS40ODYwMDcsLTQuODY5MjggMC41MTAyMiwtMS40NTUyMSAxLjQxODM5LC0zLjcxNzQgMi4wMTgxNywtNS4wMjcwOCAwLjU5OTc4LC0xLjMwOTY5IDEuNjgzODMsLTMuMzkzMjkgMi40MDg5OSwtNC42MzAyMSAwLjcyNTE2LC0xLjIzNjkzIDIuMTE3NDksLTMuMzgwMDUgMy4wOTQwOCwtNC43NjI1IDAuOTc2NTgsLTEuMzgyNDQ2IDMuMDk2NzEsLTMuODk2MzY2IDQuNzExNCwtNS41ODY0OTYgMS42MTQ2OSwtMS42OTAxMiAzLjkyMTkxOSwtMy45MDQwMiA1LjEyNzE3OSwtNC45MTk3NyAxLjIwNTI2LC0xLjAxNTc1IDMuMDg0MzUsLTIuNDM3OCA0LjE3NTc2LC0zLjE2MDExMDMgMS4wOTE0MSwtMC43MjIzMiAyLjU0NTE1LC0xLjYzNjAzIDMuMjMwNTQsLTIuMDMwNDggMC42ODUzOSwtMC4zOTQ0NSAyLjQ0ODg0LC0xLjMxNTA1IDMuOTE4NzcsLTIuMDQ1NzcgMS40Njk5MywtMC43MzA3MiAzLjgyMTc2LC0xLjc0NDU1IDUuMjI2MjgsLTIuMjUyOTcgMS40MDQ1MiwtMC41MDg0MiAzLjkyNzMzLC0xLjI2OTM2IDUuNjA2MjMsLTEuNjkwOTcgMS42Nzg5MSwtMC40MjE2MiAzLjk0NTUyLC0wLjkyMzM1MDAyIDUuMDM2OTMsLTEuMTE0OTQwMDIgMS4yODU5NSwtMC4yMjU3NiA0LjMxMjQ1LC0wLjM0ODU3MDAwMjk2IDguNTk4OTYsLTAuMzQ4OTUwMDAyOTU5MSBDIDE0My41MTc5NCwtNC42ODMyMjk2ZS00IDE0NS4zOTU5NSwwLjA5NzcwMTY4IDE0Ny41MDUyMSwwLjQ4Mzg1MTY4IGMgMS40NTUyLDAuMjY2NDQgMy45ODUzOSwwLjgzNzM3MDAyIDUuNjIyNjQsMS4yNjg3MjAwMiAxLjYzNzI0LDAuNDMxMzYgMy43ODAzNywxLjA4MzUzIDQuNzYyNSwxLjQ0OTI3IDAuOTgyMTMsMC4zNjU3MyAyLjk3NjMxLDEuMjEzMDEgNC40MzE1MiwxLjg4MjgzIDEuNDU1MjEsMC42Njk4MiAzLjY1Nzg3LDEuODIzMjIgNC44OTQ3OSwyLjU2MzExIDEuMjM2OTMsMC43Mzk4OSAzLjM2NjA4LDIuMTYyMDUgNC43MzE0NSwzLjE2MDM3MDMgMS4zNjUzNiwwLjk5ODMxIDMuOTU1NTUsMy4yNDg2MiA1Ljc1NTk2LDUuMDAwNjggMS44MDA0MSwxLjc1MjA3IDQuMTQ1MTUsNC4zMjkwNCA1LjIxMDUzLDUuNzI2NjIgMS4wNjUzOCwxLjM5NzU3NiAyLjQ4NTYsMy4zOTU2NTYgMy4xNTYwNCw0LjQ0MDE4NiAwLjY3MDQ0LDEuMDQ0NTIgMS44MTE2MSwzLjA2ODU5IDIuNTM1OTQsNC40OTc5MSAwLjcyNDMyLDEuNDI5MzMgMS43MjYwMywzLjYxMDgxIDIuMjI2MDMsNC44NDc3NCAwLjQ5OTk5LDEuMjM2OTMgMS4yMTQwMiwzLjI2MDk5IDEuNTg2NzMsNC40OTc5MiAwLjM3MjcxLDEuMjM2OTIgMC44NzIyNCwzLjEyNzg5IDEuMTEwMDYsNC4yMDIxNCAwLjIzNzgzLDEuMDc0MjYgMC42MTIxOCwzLjI3NjkxIDAuODMxODksNC44OTQ3OSAwLjIyMTI2LDEuNjI5MjYgMC4zOTk0OCw0Ljg4OTI2IDAuMzk5NDgsNy4zMDcyMyAwLDIuNDE3OTcgLTAuMTc4MjIsNS42Nzc5OCAtMC4zOTk0OCw3LjMwNzIzIC0wLjIxOTcxLDEuNjE3ODggLTAuNTkzMzUsMy44MjA1NCAtMC44MzAzLDQuODk0NzkgLTAuMjM2OTYsMS4wNzQyNiAtMC43ODMwNCwzLjA4NDI4IC0xLjIxMzUyLDQuNDY2NzMgLTAuNDMwNDksMS4zODI0NSAtMS4xNDU2LDMuNDA2NTEgLTEuNTg5MTUsNC40OTc5MiAtMC40NDM1NSwxLjA5MTQxIC0xLjM5ODcsMy4xNTM4MiAtMi4xMjI1Nyw0LjU4MzE1IC0wLjcyMzg3LDEuNDI5MzMgLTEuODY0NjcsMy40NTMzOSAtMi41MzUxMSw0LjQ5NzkyIC0wLjY3MDQ0LDEuMDQ0NTIgLTIuMDgyMTEsMy4wMzE0NSAtMy4xMzcwNCw0LjQxNTQgLTEuMDU0OTMsMS4zODM5NCAtMy4zMjYxNiwzLjg4OTg4IC01LjA0NzE4LDUuNTY4NzUgLTEuNzIxMDIsMS42Nzg4NyAtNC4wOTMyNCwzLjc4MjUzMiAtNS4yNzE1OSw0LjY3NDgwMiAtMS4xNzgzNSwwLjg5MjI4IC0zLjI0NTA4LDIuMjkwOTIgLTQuNTkyNzMsMy4xMDgxIC0xLjM0NzY1LDAuODE3MTggLTMuNTMxMzQsMi4wMjg3MyAtNC44NTI2NSwyLjY5MjMzIC0xLjMyMTMsMC42NjM2IC0zLjQyNTMyLDEuNTk2OTEgLTQuNjc1NTksMi4wNzQwNCAtMS4yNTAyNywwLjQ3NzEyIC0zLjQzNjA1LDEuMTg0MjggLTQuODU3MjksMS41NzE0NyAtMS40MjEyNCwwLjM4NzE4IC0zLjg1ODQ2LDAuOTUxNjggLTUuNDE2MDUsMS4yNTQ0MyAtMi4yNjU4MywwLjQ0MDQyIC00LjA3NDk4LDAuNTY2MDcgLTkuMDQ5NjksMC42Mjg1NiAtMy40MTk3NCwwLjA0MyAtNi41MTUzNiwwLjAyNzggLTYuODc5MTcsLTAuMDMzOCB6IE0gMCw1Ni43NTI1MzggdiAtOC4yMDIwOCBoIDEuMjg3Nzc3IGMgMS4yODc3NzcsMCAxLjI4Nzc3NywwIDQuNTY0MDYyLDMuOTUxODIgMS44MDE5NTcsMi4xNzM1MSAzLjMzNTgxNywzLjk1MjU4IDMuNDA4NTc4LDMuOTUzNTEgMC4wNzI3Niw5LjJlLTQgMS42MDA1NTMsLTEuNzc3NCAzLjM5NTA5NiwtMy45NTE4MyAzLjI2MjgwNCwtMy45NTM1IDMuMjYyODA0LC0zLjk1MzUgNC41NjQwNjIsLTMuOTUzNSBoIDEuMzAxMjU4IHYgOC4yMDIwOCA4LjIwMjA4IEggMTcuNDY2OTY3IDE2LjQxMzEgbCAtMC4wNzA2MSwtNi44MDMwMyAtMC4wNzA2MSwtNi44MDMwMyAtMy40Mzk1ODMsNC4xMzkzMyBjIC0xLjg5MTc3MSwyLjI3NjYzIC0zLjUwMDIxLDQuMTQ3MzcgLTMuNTc0MzA5LDQuMTU3MiAtMC4wNzQxLDAuMDEgLTEuNjgxNDQzLC0xLjgzMTMzIC0zLjU3MTg3NSwtNC4wOTE0NiBsIC0zLjQzNzE1LC00LjEwOTMzIC0wLjA3MDYxLDYuNzU1MTYgLTAuMDcwNjEsNi43NTUxNiBIIDEuMDUzODczIDZlLTYgWiBtIDIwLjYzNzUsMS41ODc1IHYgLTYuNjE0NTggaCAxLjA1ODMzMyAxLjA1ODMzMyB2IDYuNjE0NTggNi42MTQ1OCBIIDIxLjY5NTgzMyAyMC42Mzc1IFogbSA1LjYzNjgwNyw2LjA5NzA4IGMgLTAuNTU3MTg1LC0wLjMzOTc0IC0wLjk0OTA4MiwtMC44NjEzIC0xLjE0OTMwMywtMS41Mjk1OCAtMC4xOTE2NTMsLTAuNjM5NjggLTAuMjcwMjM0LC0yLjUyNDcyIC0wLjIxMjg0OSwtNS4xMDU4OCAwLjA3NDk0LC0zLjM3MDgyIDAuMTczMjExLC00LjIxMjg1IDAuNTU3NzAxLC00Ljc3ODY1IDAuMjU2NzAyLC0wLjM3Nzc2IDAuNzY4MzIsLTAuODI0MjQgMS4xMzY5MjgsLTAuOTkyMTkgMC40MzgzNDEsLTAuMTk5NzIgMi41ODgwOTMsLTAuMzA1MzYgNi4yMTM5OTgsLTAuMzA1MzYgaCA1LjU0MzgwMSB2IDEuMDUzMDcgMS4wNTMwNyBsIC01LjYyMjM5NiwwLjA3MTQgLTUuNjIyMzk2LDAuMDcxNCB2IDQuMzY1NjMgNC4zNjU2MiBsIDUuNjIyMzk2LDAuMDcxNCA1LjYyMjM5NiwwLjA3MTQgdiAxLjA1MzA3IDEuMDUzMDcgbCAtNS42MjIzOTYsLTkuOWUtNCBjIC01LjEwNjA5OCwtOC45ZS00IC01LjcwMDAzNiwtMC4wNDgzIC02LjQ2Nzg4LC0wLjUxNjUxIHogbSAxNC4yMDg0MTgsLTQuNTc1NzMgYyA4LjEyZS00LC0yLjgwMTI3IDAuMTI3MTgxLC01LjU0NTkgMC4yODA4MiwtNi4wOTkxOCAwLjE4NzcwNiwtMC42NzU5NSAwLjU1NjEwNSwtMS4xNzQ3IDEuMTIzMDA0LC0xLjUyMDM2IDAuNzM4LC0wLjQ0OTk5IDEuMzQ4OTg1LC0wLjUxNDU0IDQuODc4NTU1LC0wLjUxNTQgbCA0LjAzNDg5NSwtOS45ZS00IHYgMS4wNTE0NCAxLjA1MTQ0IGwgLTQuMDM0ODk1LDAuMDczIC00LjAzNDg5NiwwLjA3MyAtMC4wNzE1MSw1LjQ5MDExIC0wLjA3MTUxLDUuNDkwMSBoIC0xLjA1Mjk2NSAtMS4wNTI5NjYgeiBtIDEzLjA5NTM5OSw0Ljg0MzExIGMgLTAuMjkxMDQxLC0wLjExOTEyIC0wLjc2NzI5MSwtMC40ODA5IC0xLjA1ODMzMywtMC44MDM5NSAtMC40NzQyODUsLTAuNTI2NDUgLTAuNTM4MTU2LC0xLjAzMDQ4IC0wLjYxNTgzOSwtNC44NTk4OCAtMC4wNTQxNSwtMi42Njk1IDAuMDI1NywtNC42NDk1MSAwLjIxMjg0OSwtNS4yNzczNSAwLjE5Njc5NiwtMC42NjAyMSAwLjU4OTQ5NiwtMS4xODE2NSAxLjE0NTAwNiwtMS41MjAzNiAwLjc0NjQyMywtMC40NTUxMiAxLjM1MDIyOSwtMC41MTU2NCA1LjE1MzQ2MSwtMC41MTY1MSAzLjEyNjU0LC03LjJlLTQgNC41NTQ3ODksMC4xMDIxMyA1LjIwNzk0OCwwLjM3NTA0IDAuNTAwMzY5LDAuMjA5MDcgMS4wODM5OTIsMC43MzE4OSAxLjMxNDQxOCwxLjE3NzQ4IDAuMzI1ODU5LDAuNjMwMTQgMC40MTQ0NDksMS43MTE5NiAwLjQxNDQ0OSw1LjA2MTA3IDAsMy4zNDkxMSAtMC4wODg1OSw0LjQzMDkyIC0wLjQxNDQ0OSw1LjA2MTA3IC0wLjIzMDQyNiwwLjQ0NTU5IC0wLjgxNDA0OSwwLjk2ODQxIC0xLjMxNDQxOCwxLjE3NzQ4IC0wLjY1OTQ0MSwwLjI3NTUzIC0yLjA1MTMzNiwwLjM3MTU1IC01LjIwNzk0OCwwLjM1OTI2IC0yLjM2OTM4NywtMC4wMDkgLTQuNTQ2MTAyLC0wLjExNDIzIC00LjgzNzE0NCwtMC4yMzMzNSB6IG0gOS41MjUsLTYuMzY0NDYgdiAtNC4zNjU2MyBoIC00LjQ5NzkxNiAtNC40OTc5MTcgbCAtMC4wNzMzMyw0LjA4OTk0IGMgLTAuMDQwMzMsMi4yNDk0NiAtMC4wMTMxOSw0LjI0NjY1IDAuMDYwMzEsNC40MzgxOSAwLjEwNDcxOSwwLjI3Mjg5IDEuMDk0MDIzLDAuMzMyNTYgNC41NzEyNTEsMC4yNzU2OSBsIDQuNDM3NjA5LC0wLjA3MjYgeiBtIDE2LjAwNzI5MiwtMS41ODc1IHYgLTguMjAyMDggaCA2Ljg4NzY2NSBjIDUuNDQ4NTcsMCA3LjA4MTM2LDAuMDgwOSA3LjgxNDczLDAuMzg3MzUgMC42MzAxMiwwLjI2MzI4IDEuMDUxMTQsMC42ODQzIDEuMzE0NDIsMS4zMTQ0MiAwLjI5ODQ4LDAuNzE0MzYgMC4zODczNSwyLjIwNTc1IDAuMzg3MzUsNi41MDAzMSAwLDQuMjE4MTUgLTAuMDkxNCw1Ljc5MjA3IC0wLjM3NjAzLDYuNDczMjIgLTAuMjA5MDcsMC41MDAzNyAtMC43MzE4OSwxLjA4Mzk5IC0xLjE3NzQ5LDEuMzE0NDEgLTAuNjY4NDYsMC4zNDU2OCAtMS45NjcwNywwLjQxNDQ1IC03LjgyNjA1LDAuNDE0NDUgaCAtNy4wMjQ1OTUgeiBtIDE0LjE1NTIwNSwwIHYgLTUuOTUzMTMgaCAtNS45NTMxMiAtNS45NTMxMjcgbCAtMC4wNzE1OCw1LjY4MiBjIC0wLjAzOTM3LDMuMTI1MSAtMC4wMTI0Niw1LjgzNjA2IDAuMDU5NzksNi4wMjQzNSAwLjEwMzE4NywwLjI2ODkgMS4zOTU3NSwwLjMyNzA3IDYuMDI0NzA3LDAuMjcxMTMgbCA1Ljg5MzMzLC0wLjA3MTIgeiBtIDUuNDE4OTUsNy40NzQ0OCBjIC0wLjUxOTA1LC0wLjQ2NzkyIC0wLjg2MzQxLC0xLjA4MTcyIC0wLjk2NDg0LC0xLjcxOTc5IC0wLjE1NzcyLC0wLjk5MjE5IC0wLjE1NzcyLC0wLjk5MjE5IDAuOTE2ODMsLTAuOTkyMTkgMC45MTI5MSwwIDEuMDg3MjcsMC4wODk2IDEuMTU5MSwwLjU5NTMxIDAuMDg0NSwwLjU5NTMxIDAuMDg0NSwwLjU5NTMxIDYuMDM3NjY5LDAuNTk1MzEgaCA1Ljk1MzEzIGwgMC4wNzc1LC0yLjIyNjI5IGMgMC4wNTU4LC0xLjYwMjQ5IC0wLjAxODMsLTIuMjg3MTEgLTAuMjY0NTgsLTIuNDQzMzUgLTAuMTg4MTcsLTAuMTE5MzcgLTMuMDAzMTgsLTAuMjE4ODcgLTYuMjU1NTcsLTAuMjIxMSAtNS45MTM0MzksLTAuMDA0IC01LjkxMzQzOSwtMC4wMDQgLTYuODEzMDE5LC0wLjkwMzYzIC0wLjg5MTcxLC0wLjg5MTcxIC0wLjg5OTU4LC0wLjkyMDczIC0wLjg5OTU4LC0zLjMxNTc5IDAsLTEuNTIyNzkgMC4xNDMyMywtMi43NTkgMC4zODczNSwtMy4zNDMyNyAwLjI2MzI4LC0wLjYzMDEyIDAuNjg0MywtMS4wNTExNCAxLjMxNDQyLC0xLjMxNDQyIDAuNzE1NTA5LC0wLjI5ODk2IDIuMjEyMDQ5LC0wLjM4NzI2IDYuNTU3OTU5LC0wLjM4Njk0IDQuODMzMzMsMy41ZS00IDUuNzYxMTMsMC4wNjU5IDYuNTUwMzcsMC40NjMwMiAwLjYyMDQ4LDAuMzEyMTggMS4wMzk2LDAuNzgyMDEgMS4yODg4OSwxLjQ0NDg2IDAuMjAzMTgsMC41NDAyNCAwLjI5OTE3LDEuMTY1MzEgMC4yMTMzMSwxLjM4OTA2IC0wLjA5ODksMC4yNTc3MiAtMC40OTIxLDAuNDA2ODEgLTEuMDcyODgsMC40MDY4MSAtMC44MDM0MywwIC0wLjkyNzEyLC0wLjA5IC0xLjAwMDQ5LC0wLjcyNzYgLTAuMDgzNywtMC43Mjc2MSAtMC4wODM3LC0wLjcyNzYxIC02LjAzNjg1LC0wLjcyNzYxIGggLTUuOTUzMTE5IHYgMi4zODEyNSAyLjM4MTI1IGwgNi4wODU0MDksMC4xMzIzIGMgNC4zNjk2NiwwLjA5NSA2LjI1OTU4LDAuMjMxNTQgNi43MDMxMywwLjQ4NDMxIDAuMzM5NzQsMC4xOTM2MiAwLjc4NjIzLDAuNzU1MzQgMC45OTIxOSwxLjI0ODI4IDAuMjEwOTIsMC41MDQ4IDAuMzc0NDcsMS43NzAzNyAwLjM3NDQ3LDIuODk3NjEgMCwxLjEzMTE1IC0wLjE2MzUsMi4zOTI3IC0wLjM3NjAzLDIuOTAxMzUgLTAuMjA5MDYsMC41MDAzNyAtMC43MzE4OSwxLjA4Mzk5IC0xLjE3NzQ4LDEuMzE0NDEgLTAuNjU5NDYsMC4zNDEwMiAtMS44ODEyNSwwLjQxNDQ1IC02Ljg5NTg0LDAuNDE0NDUgLTYuMDk0Mzc5LDAgLTYuMDk0Mzc5LDAgLTYuOTAxNDg5LC0wLjcyNzYgeiBtIDE3LjQ2NzUwOSwtNy40OTAwMyB2IC04LjIxNzY0IGwgNy4yMDk5LDAuMDgxNyBjIDYuNTExOTgsMC4wNzM4IDcuMjgwMTQsMC4xMjkzNSA3LjkzNTYzLDAuNTczOTIgMC40MDMzOCwwLjI3MzYgMC44NTU0NywwLjkyNTI2IDEuMDE3ODIsMS40NjcxNiAwLjE2NDU5LDAuNTQ5MzQgMC4yNTIwMywyLjIyMTAzIDAuMjAwMzEsMy44Mjk0NiAtMC4wOTE0LDIuODQzMDUgLTAuMDk1MywyLjg1NzYzIC0wLjk1NTg1LDMuNjI2MDcgLTAuODY0MDcsMC43NzE1NSAtMC44NjQwNywwLjc3MTU1IC03LjA3NzYxLDAuNzcxNTUgaCAtNi4yMTM1MyB2IDMuMDQyNyAzLjA0MjcxIGggLTEuMDU4MzQgLTEuMDU4MzMgeiBtIDEzLjc3NTczLDAuMDA2IGMgMC40NTI3NiwtMC4yNDIzMSAwLjUxMTc3LC0wLjU3NDE4IDAuNTExNzcsLTIuODc4MDIgMCwtMS44ODg0OSAtMC4xMDAxMSwtMi42ODcyMSAtMC4zNjQyOSwtMi45MDY0NiAtMC4yNTQzNSwtMC4yMTEwOSAtMi4wNzEwMSwtMC4yODA3NiAtNi4wMTkyNywtMC4yMzA4NCBsIC01LjY1NDk4LDAuMDcxNSAtMC4wNzU1LDIuODg4OTkgYyAtMC4wNTU4LDIuMTMzMTkgMC4wMTM0LDIuOTQ1NDUgMC4yNjQ1OCwzLjEwNDgxIDAuMTg3MDgsMC4xMTg2OSAyLjY5OTQ1LDAuMjE3NjMgNS41ODMwNSwwLjIxOTg2IDMuMTE2MywwLjAwMiA1LjQ1MDUsLTAuMTA3MDQgNS43NTQ2OSwtMC4yNjk4NCB6IG0gNS40MDY1Niw3LjkxMTUyIGMgLTAuMjkxMDQsLTAuMTY0MDMgLTAuNzM0ODgsLTAuNTUwNjEgLTAuOTg2MywtMC44NTkwNyAtMC4yNTE0MywtMC4zMDg0NyAtMC40NTk3OSwtMC44ODgyNyAtMC40NjMwMiwtMS4yODg0NSAtMC4wMDUsLTAuNjY5ODUgMC4wNzU3LC0wLjcyNzYxIDEuMDIxNTksLTAuNzI3NjEgMC44MDgyNCwwIDEuMDU3MjksMC4xMTQgMS4xNjcxOSwwLjUzNDI5IDAuMTM1NjMsMC41MTg2MyAwLjMxMzA2LDAuNTMyMjEgNi4wNTAxMywwLjQ2MzAyIGwgNS45MTA0MSwtMC4wNzEzIDAuMDc3MSwtMi4zNTg4NyBjIDAuMDU1OCwtMS43MDg2NiAtMC4wMTcxLC0yLjQxODYyIC0wLjI2NDU5LC0yLjU3NTY0IC0wLjE4NzkxLC0wLjExOTIxIC0yLjc1MjY4LC0wLjIxODU4IC01LjY5OTQ4LC0wLjIyMDgxIGwgLTUuMzU3ODEsLTAuMDA0IHYgLTAuOTI2MDQgLTAuOTI2MDQgaCA0LjkxMjE5IGMgMi44ODAxMiwwIDUuMTIzODksLTAuMTEzMzEgNS40MjM5NSwtMC4yNzM5IDAuNDM0NjQsLTAuMjMyNjEgMC41MTE3OCwtMC41NjY2OSAwLjUxMTc4LC0yLjIxNjU2IDAsLTEuMzI3NTEgLTAuMTE1NDQsLTIuMDM4NDcgLTAuMzY0NTcsLTIuMjQ1MjMgLTAuMjUzNzUsLTAuMjEwNiAtMS45OTkzMiwtMC4yODA3NiAtNS43NDI5NCwtMC4yMzA4MyAtNS4zNzgzOCwwLjA3MTcgLTUuMzc4MzgsMC4wNzE3IC01LjUzMjg2LDAuNzMzMTggLTAuMTI1NTMsMC41Mzc0NyAtMC4zMzg1MSwwLjY3Njg1IC0xLjEzNjIzLDAuNzQzNTggLTAuOTYzMzksMC4wODA2IC0wLjk4MTc0LDAuMDY0NiAtMC45ODE3NCwtMC44NTU3MiAwLC0wLjY2MjEyIDAuMjI2ODQsLTEuMTkxODcgMC43NzE1NiwtMS44MDE5MSAwLjc3MTU2LC0wLjg2NDA3IDAuNzcxNTYsLTAuODY0MDcgNi42MTA2MywtMC45NDQ1MSA0Ljg1MTU5LC0wLjA2NjggNS45ODU1NywtMC4wMTA5IDYuNzA1MzcsMC4zMzA2NSAwLjQ3NjQ3LDAuMjI2MSAxLjA0MjcyLDAuNjc5MDIgMS4yNTgzMywxLjAwNjQ4IDAuMjg2MywwLjQzNDgzIDAuMzk2MjQsMS40MTU5MSAwLjQwNzY4LDMuNjM4MSAwLjAwOSwxLjgzOTQgMC4xNDEyMiwzLjI3MTI2IDAuMzMzMTMsMy42MjA2MyAwLjE4NzUxLDAuMzQxMzMgMC4zMTc0NywxLjY2NjQ2IDAuMzE3NDcsMy4yMzY5NyAwLDIuNTYzNjQgLTAuMDI3NywyLjY5MDA2IC0wLjc3MTYxLDMuNTIzMTIgLTAuNzcxNjEsMC44NjQwNyAtMC43NzE2MSwwLjg2NDA3IC03LjIwOTksMC45Mjk0IC00LjQwMTAzLDAuMDQ0NiAtNi42MDU3MiwtMC4wMjkxIC02Ljk2NzQ1LC0wLjIzMjkxIHogbSAxNy4wNjY2MiwtMy4wNzM1NiBjIDguNWUtNCwtMi45MDQ4MSAwLjA3NDQsLTMuNDkzODEgMC41MjkyOCwtNC4yMzk5MyAwLjI5MDU3LC0wLjQ3NjU3IDAuODMzNjYsLTAuOTgyNTkgMS4yMDY4NiwtMS4xMjQ0OCAwLjM3MzIxLC0wLjE0MTkgMy4yNjYzOCwtMC4yNTc5OSA2LjQyOTI2LC0wLjI1Nzk5IDQuMTE5OTgsMCA1Ljg0MDcyLC0wLjA5IDYuMDY4MTksLTAuMzE3NSAwLjE4NzM5LC0wLjE4NzM5IDAuMzE3NSwtMS4wODgyNSAwLjMxNzUsLTIuMTk4MzkgMCwtMS4wODgxOCAtMC4xMzk1NCwtMi4wNzE3MiAtMC4zMzEwOSwtMi4zMzM2OCAtMC4yOTc5NywtMC40MDc1IC0wLjkxMzIyLC0wLjQ0NTYzIC02LjE1MTU2LC0wLjM4MTI5IC01LjgyMDQ3LDAuMDcxNSAtNS44MjA0NywwLjA3MTUgLTUuOTA0MTksMC43OTkwOSAtMC4wNzU1LDAuNjU2MjUgLTAuMTg1NzksMC43Mjc2IC0xLjEyNDQ4LDAuNzI3NiAtMC45MzkxNiwwIC0xLjA0MDc2LC0wLjA2NTkgLTEuMDQwNzYsLTAuNjc0NTkgMCwtMC4zNzEwMyAwLjE4MDYxLC0xLjAyMzg2IDAuNDAxMzUsLTEuNDUwNzMgMC4yMjA3NSwtMC40MjY4OCAwLjc2MjM2LC0wLjk2MjgyIDEuMjAzNiwtMS4xOTA5OSAwLjY3NTk5LC0wLjM0OTU3IDEuNzgyMiwtMC40MDIzMyA3LjAyOTE0LC0wLjMzNTIxIDYuMjI2ODksMC4wNzk2IDYuMjI2ODksMC4wNzk2IDYuOTk4NDgsMC45NDM3MiAwLjc1Mjk5LDAuODQzMjMgMC43NzE1OSwwLjkzNDA2IDAuNzcxNTksMy43NjYxNCAwLDIuODMyMDYgLTAuMDE4NiwyLjkyMjkxIC0wLjc3MTU3LDMuNzY2MTMgLTAuNzcxNTgsMC44NjQwNyAtMC43NzE1OCwwLjg2NDA3IC03LjA3NzYxLDAuOTk2MzcgbCAtNi4zMDYwMiwwLjEzMjI5IHYgMi4yNDg5NiAyLjI0ODk1IGwgNy4wNzc2LDAuMDcwNSA3LjA3NzYsMC4wNzA1IHYgMS4wNTQwMSAxLjA1NDAxIEggMTYwLjYwMjA4IDE1Mi40IFogbSAtODQuOTMyMjQxLC0zLjM3MzQ0IHYgLTAuOTI2MDQgaCA0LjQ5NzkxNyA0LjQ5NzkxNiB2IDAuOTI2MDQgMC45MjYwNCBIIDcxLjk2NjY2NiA2Ny40Njg3NDkgWiBNIDIwLjYzNzUsNDguNTUwMjE4IGMgMCwtMS4wNTgzNCAwLC0xLjA1ODM0IDEuMDU4MzMzLC0xLjA1ODM0IDEuMDU4MzMzLDAgMS4wNTgzMzMsMCAxLjA1ODMzMywxLjA1ODM0IDAsMS4wNTgzMyAwLDEuMDU4MzMgLTEuMDU4MzMzLDEuMDU4MzMgLTEuMDU4MzMzLDAgLTEuMDU4MzMzLDAgLTEuMDU4MzMzLC0xLjA1ODMzIHoiCiAgICAgICBpZD0icGF0aDIiIC8+PC9nPjwvc3ZnPgo=";
---

<style>
  @import "tailwindcss";
  #ch0:checked ~ div {
    & #view0 {
      display: flex;
    }
    & [for="ch0"] {
      @apply bg-white text-black;
    }
  }
  #ch1:checked ~ div {
    & #view1 {
      display: flex;
    }
    & [for="ch1"] {
      @apply bg-white text-black;
    }
  }
</style>
<Layout>
  <div
    class="bg-contain bg-no-repeat bg-center min-h-0 relative size-full"
    style={`background-image: url(${bgImage})`}
  >
    <canvas class="min-h-0 w-full" id="graph"></canvas>
  </div>
  <div class="m-4">
    <input
      type="radio"
      name="channel"
      value="0"
      id="ch0"
      class="hidden"
      checked
    />
    <input type="radio" name="channel" value="1" id="ch1" class="hidden" />
    <div class="flex items-end justify-between">
      <h1
        class="text-2xl p-1 px-4 border border-solid border-white bg-white text-black rounded-t inline-block text-center"
      >
        Equalizer
      </h1>
      <div class="flex gap-0.5 bg-white border border-solid border-white">
        <label class="px-4 py-1 h-full bg-black transition" for="ch0"
          >Channel 1</label
        >
        <label class="px-4 py-1 h-full bg-black transition" for="ch1"
          >Channel 2</label
        >
      </div>
    </div>
    <div
      class="border-white border-solid border text-white rounded-bl-xl p-4 bg-white/5"
    >
      {
        new Array(2).fill(0).map((_, i) => (
          <div id={"view" + i} class="hidden flex-col gap-8 grow-1">
            <div class="grid grid-cols-2 gap-6">
              <XPass id={"lowpass" + i} pass="low" channel={i} />
              <XPass id={"highpass" + i} pass="high" channel={i} />
            </div>
            <div class="grid grid-cols-5 gap-4">
              {new Array(5).fill(0).map((_, index) => (
                <div>
                  <div class="inline-block px-2 py-0.5 rounded-t bg-white text-black">
                    EQ {index + 1}
                  </div>
                  <div class="border border-solid rounded rounded-tl-none relative p-4">
                    EQ goes here
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))
      }
    </div>
    <div class="flex justify-between pt-4">
      <Button text="Change name" onclick="change_name" />
      <Button text="Save" onclick="save" />
    </div>
  </div>

  <script>
    import Chart from "chart.js/auto";
    import { createData } from "../dsp.ts";
    import { eq, type EQConfig } from "../global.ts";
    import { chartData } from "../chart.ts";
    import { throttled } from "../utils.ts";

    const lowPassElem0 = document.getElementById("lowpass0") as HTMLElement;
    const highPassElem0 = document.getElementById("highpass0") as HTMLElement;
    const lowPassElem1 = document.getElementById("lowpass1") as HTMLElement;
    const highPassElem1 = document.getElementById("highpass1") as HTMLElement;

    let newEq: EQConfig[];
    try {
      let response = await fetch("/api?action=get_all");
      newEq = await response.json();
    } catch {
      newEq = [
        {
          lowpass: { q: 0.7, freq: 430, order: 2 },
          highpass: { q: 0.7, freq: 430, order: 0 },
        },
        {
          lowpass: { q: 0.7, freq: 430, order: 0 },
          highpass: { q: 0.7, freq: 430, order: 2 },
        },
      ];
    }

    eq.set(newEq);

    lowPassElem0.setAttribute("freq", newEq[0].lowpass.freq.toString());
    lowPassElem0.setAttribute("q", newEq[0].lowpass.q.toString());
    lowPassElem0.setAttribute("order", newEq[0].lowpass.order.toString());

    highPassElem0.setAttribute("freq", newEq[0].highpass.freq.toString());
    highPassElem0.setAttribute("q", newEq[0].highpass.q.toString());
    highPassElem0.setAttribute("order", newEq[0].highpass.order.toString());

    lowPassElem1.setAttribute("freq", newEq[1].lowpass.freq.toString());
    lowPassElem1.setAttribute("q", newEq[1].lowpass.q.toString());
    lowPassElem1.setAttribute("order", newEq[1].lowpass.order.toString());

    highPassElem1.setAttribute("freq", newEq[1].highpass.freq.toString());
    highPassElem1.setAttribute("q", newEq[1].highpass.q.toString());
    highPassElem1.setAttribute("order", newEq[1].highpass.order.toString());

    const graphCanvas = document.getElementById("graph") as HTMLCanvasElement;

    const data1 = createData(eq.value[0]);
    const data2 = createData(eq.value[1]);

    const chart = new Chart(graphCanvas, chartData(data1, data2));

    window.addEventListener("save", async (_e) => {
      console.log("saving");
      await fetch("/api?action=save");
    });
    window.addEventListener("change_name", async (_e) => {
      const newName = window.prompt("Please enter the name for this device");
      console.log("new name", newName);
      // await fetch("/api?action=save");
    });

    const throttleFetch = throttled(fetch, 200);
    const throttleLog = throttled(console.log, 200);
    window.addEventListener("update", (e) => {
      const event = e as CustomEvent<{ lul: string }>;
      chart.data.datasets[0].data = createData(eq.get()[0]);
      chart.data.datasets[1].data = createData(eq.get()[1]);
      chart.update();

      const search = new URLSearchParams({
        action: "set",
        ...event.detail,
      });
      throttleFetch("/api?" + search.toString());
    });
  </script>
</Layout>
